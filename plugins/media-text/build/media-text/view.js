(()=>{let e,o;e=[...document.querySelectorAll(".splide.js-carousel__media-text")],o=[...document.querySelectorAll(".js-google-map[data-lat][data-lng]")],e.length&&e.forEach(e=>{var o;o=e,new window.Splide(o,{perPage:1,type:"fade",rewind:!0,autoWidth:!1,focus:"center",pagination:!1,arrows:!0}).mount()}),function(){if(!o.length)return;const e=window.BWP_MAPS?.apiKey;if(!e)return void console.warn("[Media Text] window.BWP_MAPS.apiKey is missing");const n=window.BWP_MAPS?.markerUrl,i=window.BWP_MAPS?.markerSize||[75,90];(function(e){return window.google&&window.google.maps?Promise.resolve(window.google):(window.__bwpGoogleMapsPromise||(window.__bwpGoogleMapsPromise=new Promise((o,n)=>{if(!e)return void n(new Error("Missing Google Maps API key"));const i="bwp-google-maps-js";if(document.getElementById(i)){const e=setInterval(()=>{window.google&&window.google.maps&&(clearInterval(e),o(window.google))},50);return void setTimeout(()=>{clearInterval(e),n(new Error("Google Maps script present but did not initialise"))},8e3)}const a=document.createElement("script");a.id=i,a.async=!0,a.defer=!0,a.src="https://maps.googleapis.com/maps/api/js?key="+encodeURIComponent(e),a.onload=()=>{window.google&&window.google.maps?o(window.google):n(new Error("Google Maps loaded but `google.maps` missing"))},a.onerror=()=>n(new Error("Failed to load Google Maps script")),document.head.appendChild(a)})),window.__bwpGoogleMapsPromise)})(e).then(()=>{o.forEach(e=>{const o=parseFloat(e.dataset.lat),a=parseFloat(e.dataset.lng),t=parseInt(e.dataset.zoom||"14",10);if(!Number.isFinite(o)||!Number.isFinite(a))return;const r=e.querySelector(".c-media-text__map-canvas")||e,s={lat:o,lng:a},l=new window.google.maps.Map(r,{center:s,zoom:t,disableDefaultUI:!0,gestureHandling:"cooperative"});new window.google.maps.Marker({position:s,map:l,icon:n?{url:n,scaledSize:new window.google.maps.Size(i[0],i[1]),anchor:new window.google.maps.Point(i[0]/2,i[1])}:void 0})})}).catch(e=>{console.warn("[Media Text] Google Maps not initialised:",e)})}()})();