(()=>{"use strict";var e,i={601:()=>{const e=window.wp.blocks,i=window.wp.i18n,a=window.wp.components,o=window.wp.blockEditor,r=window.ReactJSXRuntime,l="c-media-block-item",s="c-media-block-item",t=JSON.parse('{"UU":"bwp/media-block-item"}');(0,e.registerBlockType)(t.UU,{edit:function({attributes:e,setAttributes:s}){const{variant:t,imageid:d,imagesrc:n,imagealt:c,videoid:m,videosrc:p,posterid:v,postersrc:u,posteralt:x}=e,g=[l].filter(Boolean).join(" "),h=(0,o.useBlockProps)({className:g});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(o.InspectorControls,{children:[(0,r.jsx)(a.PanelBody,{children:(0,r.jsx)(a.SelectControl,{label:(0,i.__)("Image or Video?","media-block-item"),value:t,options:[{label:(0,i.__)("Image","media-block-item"),value:"image"},{label:(0,i.__)("Video","media-block-item"),value:"video"}],onChange:e=>s({variant:e}),__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0})}),"image"===t&&(0,r.jsx)(a.PanelBody,{title:(0,i.__)("Image Selection","media-block-item"),children:(0,r.jsxs)(o.MediaUploadCheck,{children:[(0,r.jsx)(o.MediaUpload,{onSelect:e=>{s({imageid:e?.id,imagesrc:e?.url,imagealt:e?.alt})},allowedTypes:["image"],value:d,render:({open:e})=>(0,r.jsxs)(a.Button,{onClick:e,variant:"primary",style:{marginRight:"6px"},children:[d&&n?"Edit ":"Add ","Media"]})}),d?(0,r.jsx)(a.Button,{onClick:()=>{s({imageid:null,imagesrc:"",imagealt:""})},variant:"secondary",children:"Remove Image"}):null]})}),"video"===t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.PanelBody,{title:(0,i.__)("Video Selection","media-block-item"),children:(0,r.jsxs)(o.MediaUploadCheck,{children:[(0,r.jsx)(o.MediaUpload,{onSelect:e=>{s({videoid:e?.id,videosrc:e?.url})},allowedTypes:["video"],value:m,render:({open:e})=>(0,r.jsxs)(a.Button,{onClick:e,variant:"primary",style:{marginRight:"6px"},children:[m&&p?"Edit ":"Add ","Media"]})}),m?(0,r.jsx)(a.Button,{onClick:()=>{s({videoid:null,videosrc:""})},variant:"secondary",children:"Remove Video"}):null]})}),(0,r.jsxs)(a.PanelBody,{title:(0,i.__)("Poster Image","media-block-item"),children:[(0,r.jsxs)(o.MediaUploadCheck,{children:[(0,r.jsx)(o.MediaUpload,{onSelect:e=>{var i;s({posterid:e?.id,postersrc:null!==(i=e?.sizes?.medium?.source_url)&&void 0!==i?i:e.url,posteralt:e?.alt})},allowedTypes:["image"],value:v,render:({open:e})=>(0,r.jsxs)(a.Button,{onClick:e,variant:"primary",style:{marginRight:"6px"},children:[v?"Edit ":"Add ","Poster"]})}),v?(0,r.jsx)(a.Button,{onClick:()=>{s({posterid:null,postersrc:"",posteralt:""})},variant:"secondary",children:"Remove Poster"}):null]}),v&&u&&(0,r.jsx)("div",{className:`${l}__poster-preview`,style:{marginTop:"10px"},children:(0,r.jsx)("img",{src:u})})]})]})]}),(0,r.jsx)("article",{...h,children:(0,r.jsxs)("div",{className:`${l}__media`,children:["image"===t&&d&&n&&(0,r.jsx)("picture",{children:(0,r.jsx)("img",{src:n})}),"video"===t&&m&&p&&(0,r.jsx)("video",{children:(0,r.jsx)("source",{src:p})})]})})]})},save:function({attributes:e}){const{variant:i,imageid:a,imagesrc:l,imagealt:t,videoid:d,videosrc:n,posterid:c,postersrc:m,posteralt:p}=e,v=[s].filter(Boolean).join(" "),u=o.useBlockProps.save({className:`${v}`});return(0,r.jsxs)("article",{...u,children:["video"===i&&n&&(0,r.jsx)("div",{className:`${s}__media`,children:(0,r.jsx)("video",{autoPlay:!0,muted:!0,loop:!0,playsinline:!0,preload:"metadata",className:"js-video",poster:m,children:(0,r.jsx)("source",{src:n})})}),"image"===i&&l&&a&&(0,r.jsx)("div",{className:`${s}__media`,children:(0,r.jsx)("picture",{children:(0,r.jsx)("img",{loading:"lazy",decode:"async",src:l,alt:t||""})})})]})}})}},a={};function o(e){var r=a[e];if(void 0!==r)return r.exports;var l=a[e]={exports:{}};return i[e](l,l.exports,o),l.exports}o.m=i,e=[],o.O=(i,a,r,l)=>{if(!a){var s=1/0;for(c=0;c<e.length;c++){for(var[a,r,l]=e[c],t=!0,d=0;d<a.length;d++)(!1&l||s>=l)&&Object.keys(o.O).every(e=>o.O[e](a[d]))?a.splice(d--,1):(t=!1,l<s&&(s=l));if(t){e.splice(c--,1);var n=r();void 0!==n&&(i=n)}}return i}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[a,r,l]},o.o=(e,i)=>Object.prototype.hasOwnProperty.call(e,i),(()=>{var e={190:0,594:0};o.O.j=i=>0===e[i];var i=(i,a)=>{var r,l,[s,t,d]=a,n=0;if(s.some(i=>0!==e[i])){for(r in t)o.o(t,r)&&(o.m[r]=t[r]);if(d)var c=d(o)}for(i&&i(a);n<s.length;n++)l=s[n],o.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return o.O(c)},a=globalThis.webpackChunkmedia_block_item=globalThis.webpackChunkmedia_block_item||[];a.forEach(i.bind(null,0)),a.push=i.bind(null,a.push.bind(a))})();var r=o.O(void 0,[594],()=>o(601));r=o.O(r)})();