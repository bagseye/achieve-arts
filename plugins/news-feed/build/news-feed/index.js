(()=>{"use strict";var e,s={510:()=>{const e=window.wp.blocks,s=window.wp.i18n,n=window.wp.data,o=window.wp.coreData,t=window.wp.components,a=window.wp.blockEditor,r=window.ReactJSXRuntime,i="c-news-feed",d=JSON.parse('{"UU":"bwp/news-feed"}');(0,e.registerBlockType)(d.UU,{edit:function({attributes:e,setAttributes:d}){const{heading:l,topmargin:c,bottommargin:_,catid:g}=e,{categories:p,isResolvingCategories:h}=(0,n.useSelect)(e=>{const s=e(o.store),n={per_page:-1,hide_empty:!0,orderby:"name",order:"asc"};return{categories:s.getEntityRecords("taxonomy","category",n),isResolvingCategories:s.isResolving("getEntityRecords",["taxonomy","category",n])}},[]),{posts:m,isResolvingPosts:w}=(0,n.useSelect)(e=>{const s=e(o.store),n={per_page:8,orderby:"date",order:"desc",_embed:!0};return g&&g>0&&(n.categories=[g]),{posts:s.getEntityRecords("postType","post",n),isResolvingPosts:s.isResolving("getEntityRecords",["postType","post",n])}},[g]),f=[i,c&&"margin-block__top",_&&"margin-block__bottom"].filter(Boolean).join(" "),x=(0,a.useBlockProps)({className:f}),v=[{label:(0,s.__)("All","news-feed"),value:-1},...(p||[]).map(e=>({label:e.name,value:e.id}))];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(a.InspectorControls,{children:[(0,r.jsxs)(t.PanelBody,{title:(0,s.__)("Margin Controls","news-feed"),children:[(0,r.jsx)(t.ToggleControl,{__nextHasNoMarginBottom:!0,label:(0,s.__)("Margin Top","news-feed"),help:c?(0,s.__)("Has top margin.","news-feed"):(0,s.__)("No top margin.","news-feed"),checked:c,onChange:e=>{d({topmargin:e})}}),(0,r.jsx)(t.ToggleControl,{__nextHasNoMarginBottom:!0,label:(0,s.__)("Margin Bottom","news-feed"),help:_?(0,s.__)("Has bottom margin.","news-feed"):(0,s.__)("No bottom margin.","news-feed"),checked:_,onChange:e=>{d({bottommargin:e})}})]}),(0,r.jsxs)(t.PanelBody,{title:(0,s.__)("Category Select","news-feed"),children:[h&&!p&&(0,r.jsxs)("div",{style:{padding:"8px 0"},children:[(0,r.jsx)(t.Spinner,{})," ",(0,s.__)("Loading categories…","news-feed")]}),(0,r.jsx)(t.SelectControl,{label:(0,s.__)("Select the category to show","news-feed"),value:g,options:v,onChange:e=>d({catid:parseInt(e,10)}),__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0})]})]}),(0,r.jsx)("section",{...x,children:(0,r.jsxs)("div",{className:`${i}__inner padding-block__top padding-block__bottom`,children:[(0,r.jsx)("div",{className:`${i}__container`,children:(0,r.jsxs)("div",{className:`${i}__items`,children:[(0,r.jsx)("div",{className:`${i}__item c-news-feed__item--content`,children:(0,r.jsx)("header",{className:`${i}__header`,children:(0,r.jsx)(a.RichText,{tagName:"h2",className:`${i}__heading`,value:l,allowedFormats:["core/bold","core/italic"],onChange:e=>d({heading:e}),placeholder:(0,s.__)("Heading...","news-feed")})})}),(0,r.jsxs)("div",{className:`${i}__item c-news-feed__item--feed`,children:[w&&(0,r.jsxs)("div",{className:"c-news-feed__loading",children:[(0,r.jsx)(t.Spinner,{})," ",(0,s.__)("Loading posts…","news-feed")]}),!w&&m&&0===m.length&&(0,r.jsx)("p",{className:"c-news-feed__no-posts",children:(0,s.__)("No posts found for this category.","news-feed")}),!w&&m&&m.length>0&&(0,r.jsx)("div",{className:`${i}__scroller`,children:m.map(e=>(0,r.jsx)("article",{className:"c-news-feed__card",children:(0,r.jsx)("div",{className:"c-news-feed__card--inner",children:(0,r.jsx)("div",{className:"c-news-feed__card--container",children:(0,r.jsx)("div",{className:"c-news-feed__card--content",children:(0,r.jsx)("header",{className:"c-news-feed__card--header",children:(0,r.jsx)("h3",{className:"c-news-feed__card--heading",children:e.title?.rendered||(0,s.__)("(no title)","news-feed")})})})})})},e.id))})]})]})}),(0,r.jsx)("span",{className:`${i}__gradient`})]})})]})}})}},n={};function o(e){var t=n[e];if(void 0!==t)return t.exports;var a=n[e]={exports:{}};return s[e](a,a.exports,o),a.exports}o.m=s,e=[],o.O=(s,n,t,a)=>{if(!n){var r=1/0;for(c=0;c<e.length;c++){for(var[n,t,a]=e[c],i=!0,d=0;d<n.length;d++)(!1&a||r>=a)&&Object.keys(o.O).every(e=>o.O[e](n[d]))?n.splice(d--,1):(i=!1,a<r&&(r=a));if(i){e.splice(c--,1);var l=t();void 0!==l&&(s=l)}}return s}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[n,t,a]},o.o=(e,s)=>Object.prototype.hasOwnProperty.call(e,s),(()=>{var e={442:0,654:0};o.O.j=s=>0===e[s];var s=(s,n)=>{var t,a,[r,i,d]=n,l=0;if(r.some(s=>0!==e[s])){for(t in i)o.o(i,t)&&(o.m[t]=i[t]);if(d)var c=d(o)}for(s&&s(n);l<r.length;l++)a=r[l],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(c)},n=globalThis.webpackChunknews_feed=globalThis.webpackChunknews_feed||[];n.forEach(s.bind(null,0)),n.push=s.bind(null,n.push.bind(n))})();var t=o.O(void 0,[654],()=>o(510));t=o.O(t)})();